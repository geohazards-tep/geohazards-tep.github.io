<!DOCTYPE HTML>
<html lang="en" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=11; IE=10; IE=9; IE=8; IE=7; IE=EDGE" />
        <title>InSAR-GMTSAR | Geohazards TEP GitHub Guide</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.0.1">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    
    
    <link rel="next" href="../chapter/Advanced-InSAR.html" />
    
    
    <link rel="prev" href="../section/dcs-doris-l1-coseismic.html" />
    

        
    </head>
    <body>
        
        
    <link rel="stylesheet" href="../gitbook/style.css">
    
    

        
    <div class="book" data-level="3.3" data-basepath=".." data-revision="Fri Apr 10 2015 15:49:58 GMT+0200 (CEST)">
    

<div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Type to search" class="form-control" />
    </div>
    <ul class="summary">
        
        
        
        

        

        
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../index.html">
                        <i class="fa fa-check"></i>
                        
                        Introduction
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="static/about.html">
            
                
                    <a href="../static/about.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        About the platform
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="2" data-path="static/build.html">
            
            <span><b>2.</b> Build your own application</span>
            
            
        </li>
    
        <li class="chapter " data-level="3" data-path="chapter/Conventional-InSAR.html">
            
                
                    <a href="../chapter/Conventional-InSAR.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        Conventional InSAR
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1" data-path="section/dcs-doris-ifg.html">
            
                
                    <a href="../section/dcs-doris-ifg.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.</b>
                        
                        dcs-doris-ifg
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="section/dcs-doris-l1-coseismic.html">
            
                
                    <a href="../section/dcs-doris-l1-coseismic.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.</b>
                        
                        dcs-doris-l1-coseismic
                    </a>
                
            
            
        </li>
    
        <li class="chapter active" data-level="3.3" data-path="section/InSAR-GMTSAR.html">
            
                
                    <a href="../section/InSAR-GMTSAR.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.</b>
                        
                        InSAR-GMTSAR
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4" data-path="chapter/Advanced-InSAR.html">
            
                
                    <a href="../chapter/Advanced-InSAR.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                        Advanced InSAR
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1" data-path="section/NA.html">
            
                
                    <a href="../section/NA.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.</b>
                        
                        NA
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="section/.md.html">
            
            <span><b>4.2.</b> </span>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5" data-path="chapter/Auxiliary.html">
            
                
                    <a href="../chapter/Auxiliary.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                        Auxiliary
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1" data-path="section/InSAR-ROI_PAC.html">
            
                
                    <a href="../section/InSAR-ROI_PAC.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.1.</b>
                        
                        InSAR-ROI_PAC
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="6" data-path="chapter/Toolboxes.html">
            
                
                    <a href="../chapter/Toolboxes.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.</b>
                        
                        Toolboxes
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.1" data-path="section/dcs-nest-coregistration.html">
            
                
                    <a href="../section/dcs-nest-coregistration.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.1.</b>
                        
                        dcs-nest-coregistration
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    


        
        <li class="divider"></li>
        <li>
            <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                Published with GitBook
            </a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header">
    <!-- Actions Left -->
    <a href="#" class="btn pull-left toggle-summary" aria-label="Table of Contents"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search" aria-label="Search"><i class="fa fa-search"></i></a>
    
    <div id="font-settings-wrapper" class="dropdown pull-left">
        <a href="#" class="btn toggle-dropdown" aria-label="Font Settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
    <div class="dropdown-caret">
        <span class="caret-outer"></span>
        <span class="caret-inner"></span>
    </div>

    <div class="buttons">
        <button type="button" id="reduce-font-size" class="button size-2">A</button>
        <button type="button" id="enlarge-font-size" class="button size-2">A</button>
    </div>

    <div class="buttons font-family-list">
        <button type="button" data-font="0" class="button">Serif</button>
        <button type="button" data-font="1" class="button">Sans</button>
    </div>

    <div class="buttons color-theme-list">
        <button type="button" id="color-theme-preview-0" class="button size-3" data-theme="0">White</button>
        <button type="button" id="color-theme-preview-1" class="button size-3" data-theme="1">Sepia</button>
        <button type="button" id="color-theme-preview-2" class="button size-3" data-theme="2">Night</button>
    </div>
</div>

    </div>

    <!-- Actions Right -->
    
    <div class="dropdown pull-right">
        <a href="#" class="btn toggle-dropdown" aria-label="Share"><i class="fa fa-share-alt"></i>
        </a>
        <div class="dropdown-menu font-settings dropdown-left">
            <div class="dropdown-caret">
                <span class="caret-outer"></span>
                <span class="caret-inner"></span>
            </div>
            <div class="buttons">
                <button type="button" data-sharing="twitter" class="button">
                    Share on Twitter
                </button>
                <button type="button" data-sharing="google-plus" class="button">
                    Share on Google
                </button>
                <button type="button" data-sharing="facebook" class="button">
                    Share on Facebook
                </button>
                <button type="button" data-sharing="weibo" class="button">
                    Share on Weibo
                </button>
                <button type="button" data-sharing="instapaper" class="button">
                    Share on Instapaper
                </button>
            </div>
        </div>
    </div>
    

    
    <a href="#" target="_blank" class="btn pull-right google-plus-sharing-link sharing-link" data-sharing="google-plus" aria-label="Google"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right facebook-sharing-link sharing-link" data-sharing="facebook" aria-label="Facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right twitter-sharing-link sharing-link" data-sharing="twitter" aria-label="Twitter"><i class="fa fa-twitter"></i></a>
    
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../" >Geohazards TEP GitHub Guide</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h3 id="-geohazards-tep-https-github-com-geohazards-tep-insar-gmtsar-https-github-com-geohazards-tep-insar-gmtsar"><a href="https://github.com/geohazards-tep" target="_blank">geohazards-tep</a> / <a href="https://github.com/geohazards-tep/InSAR-GMTSAR" target="_blank">InSAR-GMTSAR</a></h3>
<table>
<thead>
<tr>
<th style="text-align:center">Language</th>
<th style="text-align:center">Created</th>
<th style="text-align:center">Last update</th>
<th style="text-align:center">Stars</th>
<th style="text-align:center">Forks</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Shell</td>
<td style="text-align:center">2015-03-16T10:27:22Z</td>
<td style="text-align:center">2015-03-16T10:27:22Z</td>
<td style="text-align:center"><a href="https://github.com/geohazards-tep/InSAR-GMTSAR/stargazers" target="_blank">0</a></td>
<td style="text-align:center"><a href="https://github.com/geohazards-tep/InSAR-GMTSAR/network" target="_blank">0</a></td>
</tr>
</tbody>
</table>
<h1 id="cloud-processing-with-envisat-asar-data-and-gmtsar">Cloud processing with Envisat ASAR data and GMTSAR</h1>
<p>This repository contains the application files and scripts to process a stack with one master and one or more slaves of Envisat ASAR data with <a href="http://topex.ucsd.edu/gmtsar/" target="_blank">GMTSAR</a> an InSAR processing system based on <a href="http://gmt.soest.hawaii.edu/" target="_blank">GMT</a> to process SAR images to create InSAR images, named interferograms.</p>
<p>To run this application, you will need a Developer Cloud Sandbox that can be either requested from the ESA research &amp; service support Portal (<a href="http://eogrid.esrin.esa.int/cloudtoolbox/" target="_blank">http://eogrid.esrin.esa.int/cloudtoolbox/</a>) for ESA G-POD related projects and ESA registered user accounts, or directly from Terradue&apos;s Portal (<a href="http://www.terradue.com/partners" target="_blank">http://www.terradue.com/partners</a>), provided user registration approval.</p>
<p>A Developer Cloud Sandbox provides Earth Science data access services, and assistance tools for a user to implement, test and validate his application. It runs in two different lifecycle modes: sandbox mode and cluster mode. Used in Sandbox mode (single virtual machine), it supports cluster simulation and user assistance functions in building the distributed application. Used in Cluster mode (collections of virtual machines), it supports the deployment and execution of the application with the power of distributed computing processing over large datasets (leveraging the Hadoop Streaming MapReduce technology).</p>
<h3 id="installation">Installation</h3>
<ol>
<li><p>Log on the <code>app gmtsar</code> sandbox via SSH</p>
</li>
<li><p>Install GMTSAR</p>
</li>
</ol>
<h3 id="getting-started">Getting started</h3>
<p>We will process an Envisat ASAR stack with one master and two slaves  </p>
<p>The application is described in the Application Descriptor file (application.xml), it describes two processing nodes:</p>
<ul>
<li>processing step <code>msd</code></li>
<li>processing step <code>gmtsar</code></li>
</ul>
<h4 id="processing-step-msd">Processing step <code>msd</code></h4>
<p>The processing step <code>msd</code> (Master, Slave, DEM) takes the three Envisat ASAR datasets references (one master and two slaves):</p>
<ul>
<li><a href="http://catalogue.terradue.int/catalogue/search/ASA_IM__0P/ASA_IM__0CNPDE20090412_092426_000000162078_00079_37207_1556.N1/rdf" target="_blank">http://catalogue.terradue.int/catalogue/search/ASA_IM__0P/ASA_IM__0CNPDE20090412_092426_000000162078_00079_37207_1556.N1/rdf</a> (master)</li>
<li><a href="http://catalogue.terradue.int/catalogue/search/ASA_IM__0P/ASA_IM__0CNPAM20080427_092430_000000172068_00079_32197_3368.N1/rdf" target="_blank">http://catalogue.terradue.int/catalogue/search/ASA_IM__0P/ASA_IM__0CNPAM20080427_092430_000000172068_00079_32197_3368.N1/rdf</a> (slave 1)</li>
<li><a href="http://catalogue.terradue.int/catalogue/search/ASA_IM__0P/ASA_IM__0CNPAM20070128_092433_000000162055_00079_25684_2263.N1/rdf" target="_blank">http://catalogue.terradue.int/catalogue/search/ASA_IM__0P/ASA_IM__0CNPAM20070128_092433_000000162055_00079_25684_2263.N1/rdf</a> (slave 2)</li>
</ul>
<blockquote>
<p>These products are also available on the European Space Agency (ESA) virtual archive available at <a href="http://eo-virtual-archive4.esa.int" target="_blank">http://eo-virtual-archive4.esa.int</a></p>
<ol>
<li>Open a browser on <a href="http://eo-virtual-archive4.esa.int/?bbox=13.18,42.26,13.56,42.46" target="_blank">http://eo-virtual-archive4.esa.int/?bbox=13.18,42.26,13.56,42.46</a> (this sets the AOI over L&apos;Aquila)</li>
<li>In the &quot;Search&quot; input box write &quot;ASA_IM__0P&quot; to limit the results to Envisat ASAR Image Mode Level 0</li>
<li>Set the track range from 79 to 79</li>
<li>Set the start date to &quot;2007-01-01&quot; and stop date to &quot;2009-04-15</li>
<li>Click &quot;Search&quot;</li>
<li>Select on the left side the master: ASA_IM__0CNPDE20090412_092426_000000162078_00079_37207_1556.N1</li>
<li>Below the map, on the &quot;Related tab&quot;, you&apos;ll see candidate slave products</li>
</ol>
</blockquote>
<p>The <code>msd</code> processing tasks are: </p>
<ul>
<li>extend the master product footprint of 0.2 degrees</li>
<li>invoke the <a href="http://topex.ucsd.edu/gmtsar/demgen/" target="_blank">GTMSAR Generate DEM Service</a> with the extended master footprint</li>
<li>download the GTMSAR Generate DEM Service result and publish it in the Sandbox distributed filesystem </li>
<li>generate the inputs for the <code>gmtsar</code> processing step which are triplets of <ul>
<li>the master SAR product reference</li>
<li>the slave SAR product reference</li>
<li>the DEM product reference</li>
</ul>
</li>
</ul>
<p>With the data defined in the <a href="https://github.com/Terradue/InSAR-tutorials-GMTSAR/blob/master/application.xml" target="_blank">application.xml</a>, the processing step <code>msd</code> produces the triplets:</p>
<ul>
<li>triplet 1<ul>
<li><a href="http://catalogue.terradue.int/catalogue/search/ASA_IM__0P/ASA_IM__0CNPDE20090412_092426_000000162078_00079_37207_1556.N1/rdf" target="_blank">http://catalogue.terradue.int/catalogue/search/ASA_IM__0P/ASA_IM__0CNPDE20090412_092426_000000162078_00079_37207_1556.N1/rdf</a> (master)</li>
<li><a href="http://catalogue.terradue.int/catalogue/search/ASA_IM__0P/ASA_IM__0CNPAM20080427_092430_000000172068_00079_32197_3368.N1/rdf" target="_blank">http://catalogue.terradue.int/catalogue/search/ASA_IM__0P/ASA_IM__0CNPAM20080427_092430_000000172068_00079_32197_3368.N1/rdf</a> (slave 1)</li>
<li>the DEM  </li>
</ul>
</li>
<li>triplet 2<ul>
<li><a href="http://catalogue.terradue.int/catalogue/search/ASA_IM__0P/ASA_IM__0CNPDE20090412_092426_000000162078_00079_37207_1556.N1/rdf" target="_blank">http://catalogue.terradue.int/catalogue/search/ASA_IM__0P/ASA_IM__0CNPDE20090412_092426_000000162078_00079_37207_1556.N1/rdf</a> (master)</li>
<li><a href="http://catalogue.terradue.int/catalogue/search/ASA_IM__0P/ASA_IM__0CNPAM20070128_092433_000000162055_00079_25684_2263.N1/rdf" target="_blank">http://catalogue.terradue.int/catalogue/search/ASA_IM__0P/ASA_IM__0CNPAM20070128_092433_000000162055_00079_25684_2263.N1/rdf</a> (slave 2) </li>
<li>the DEM </li>
</ul>
</li>
</ul>
<h4 id="processing-step-gmtsar">Processing step <code>gmtsar</code></h4>
<p>The <code>gmtsar</code> processing step takes as inputs the references to the <code>msd</code> processing step outputs to generate the interferogram out of the Envisat ASAR stack of products.</p>
<p>The <code>gmtsar</code> processing tasks are: </p>
<ul>
<li>For each triplet<ul>
<li>Copy the generated DEM to the working directory </li>
<li>Copy the master ASAR product to the working directory</li>
<li>Copy the slave ASAR prodcut to the working directory</li>
<li>Invoke GMTSAR&apos;s <code>run_envi_csh</code> script to convert to the RAW format</li>
<li>Publish the results</li>
</ul>
</li>
</ul>
<h3 id="running-the-application">Running the application</h3>
<h4 id="run-the-processing-steps-one-after-the-other">Run the processing steps one after the other:</h4>
<p>From the <code>Sandbox gmtsar</code> shell, to submit the execution of the worklflow node <code>msd</code> run:</p>
<p><code>$ ciop-simjob -f msd</code></p>
<p>Then, with the inputs from the above <code>msd</code> execution, the <code>gmtsar</code> can be submitted: </p>
<p><code>$ ciop-simjob -f gmtsar</code></p>
<h4 id="run-the-processing-steps-in-a-single-step">Run the processing steps in a single step:</h4>
<p><code>$ ciop-simwf</code></p>
<p>This will submit the complete worflow with nodes <code>msd</code> and <code>gmtsar</code></p>
<h4 id="run-the-processing-service-via-the-dashboard">Run the processing service via the dashboard</h4>
<p>The Sandbox dashboard allows submitting and monitoring an OGC WPS request with a GUI</p>
<p>On a Browser:</p>
<ul>
<li>Type the address <a href="http://sandbox_ip/dashboard" target="_blank">http://sandbox_ip/dashboard</a></li>
<li>Click the Invoke tab</li>
<li>Fill the processing request with one master and one or more slave products</li>
<li>Submit the process by clicking &quot;Run&quot;</li>
</ul>
<h4 id="run-the-processing-service-via-ogc-wps">Run the processing service via OGC WPS</h4>
<p>Using HTTP GET request with <code>curl</code></p>
<p><code>curl http://sandbox_ip/wps/?service=WPS&amp;request=Execute&amp;version=1.0.0&amp;Identifier=&amp;storeExecuteResponse=true&amp;status=true&amp;DataInputs=sar1=http://catalogue.terradue.int/catalogue/search/ASA_IM__0P/ASA_IM__0CNPDE20100502_175016_000000172089_00084_42723_0354.N1/rdf;sar2=http://catalogue.terradue.int/catalogue/search/ASA_IM__0P/ASA_IM__0CNPDE20100328_175019_000000162088_00084_42222_9504.N1/rdf</code></p>
<p>Using HTTP POST request with <code>curl</code></p>
<p>TBW</p>
<h3 id="references">References</h3>
<ul>
<li><a href="https://support.terradue.com/projects/devel-cloud-sb/wiki" target="_blank">Developer Cloud Sandbox</a></li>
<li><a href="http://eo-virtual-archive4.esa.int/" target="_blank">ESA Virtual Archive - access SAR data</a></li>
<li><a href="http://topex.ucsd.edu/gmtsar/" target="_blank">GMTSAR Web Site</a></li>
<li><a href="http://topex.ucsd.edu/gmtsar/demgen/" target="_blank">GTMSAR Generate DEM Service</a></li>
<li><a href="http://eogrid.esrin.esa.int/cloudtoolbox/" target="_blank">SSEP CloudToolbox</a> to request a Developer Cloud Sandbox PaaS and run this application</li>
</ul>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../section/dcs-doris-l1-coseismic.html" class="navigation navigation-prev " aria-label="Previous page: dcs-doris-l1-coseismic"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../chapter/Advanced-InSAR.html" class="navigation navigation-next " aria-label="Next page: Advanced InSAR"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../gitbook/app.js"></script>

<script>
require(["gitbook"], function(gitbook) {
    var config = {"fontSettings":{"theme":null,"family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
